<?xml version="1.0" encoding="iso-8859-1"?>
<modules>
    <module>
        <specification>
            <description>
                <name>Options Module</name>
                <version>1.0</version>
                <short>User Options Module</short>
                <long><![CDATA[User Options Main System Module]]></long>
            </description>
        </specification>

        <file id='options' type='php' src='options.php' mode='startup' />


        <datasource name='OPTIONS_XML' src='options.xml' />
    
        <zobjectdef name="options" key-field="userid" index="id" allow-display="[!]" SOURCE='OPTIONS_XML'>
            <style>
                <caption>Options</caption>
                <class>user-options</class>
                <options addonlist="1" />
            </style>
            <source>def-options</source>
            <action>php:zwpadmin_redirect_url</action>
            <render name="wp-list" type="list" src="templates/zobjects-wp-admin-action-list.xml" />
            <render name="wp-edit" type="edit" src="templates/zobjects-wp-admin-action-edit.xml" />
            <!-- <render name="wp-edit" type="create" src="templates/zobjects-wp-admin-action-create.xml" /> -->
            <xmlfile src="php:options_xml_file" list="/*/option/@userid" base="/*/option[@userid='@userid']/" />
            <fielddefs>
                <fielddef id="userid" datatype="string" access="@" required="1" remote="php:zwpadmin_verify_zaction_name" />
                <fielddef id="name" datatype="string" access="@" required="1" remote="php:zwpadmin_verify_zaction_name" />
                <fielddef id="option1" datatype="string" access="@" />
                <fielddef id="option2" datatype="string" access="@" />
                <fielddef id="option3" datatype="string" access="@" />
            </fielddefs>
        </zobjectdef>
    </module>

    <ztabledef name='def-options'>
        <fielddefs>
            <fielddef id='name' datatype='string' access="@name" caption='ID' />
        </fielddefs>
    </ztabledef>

</modules>
